import { Tabs, Tab } from "../../components/things-from-nextra-that-arent-importing-nicely/tabs.jsx";
import { Callout } from 'nextra/components'

# Using Embeddings

<Callout type="warning" emoji="⚠️">
    Embeddings are coming soon. The following docs are not currently reliable!
</Callout>

The URL to send the POST request to is `https://purgpt.xyz/v1/embeddings`.

To use PurGPT embedding, there are certain required fields to include in the body of the request:

```json
{
    "input": "A STRING OF TEXT", // ex: The cat sat on a frog in the evening. The frog was mad, because it wanted to sleep.
    "key": "YOUR API KEY", // ex: purgpt-nskruifnelsd
    "model": "ANY DESIRED MODEL" // ex: text-embedding-ada-002
} 
```

Given that, here is a table with more information on both required and optional parameters that can be passed into the body:

## API Reference

| **Field**   | **Type**                 | **Description**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|---------|----------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **model**   | `string`             | **Required**. ID of the model to use. You can use OpenAI's [List models](https://platform.openai.com/docs/api-reference/models/list) API to see all of your available models, or see their [Model overview](https://platform.openai.com/docs/models/overview) for descriptions of them.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| **input**   | `string` or `array`  | **Required**. Input text to embed, encoded as a string or array of tokens. To embed multiple inputs in a single request, pass an array of strings or array of token arrays. Each input must not exceed the max input tokens for the model (8191 tokens for `text-embedding-ada-002`).                                                                                                                                                                                                                                                                                                                                                                                       |
| **user**    | `string`             | Optional. A unique identifier representing your end-user, which can help OpenAI to monitor and detect abuse. [Learn more](https://platform.openai.com/docs/guides/safety-best-practices/end-user-ids).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |

## Code Example

<Tabs items={["JavaScript/Ajax", "Node.js", "Python", "C#", "cURL/BASH"]}>
  <Tab>
   ```js copy filename="index.js"
    const url = 'https://purgpt.xyz/v1/embeddings';

    const data = JSON.stringify({
        "input": "The cat sat on a frog in the evening. The frog was mad, because it wanted to sleep.",
        "key": "YOUR API KEY",
        "model": "text-embedding-ada-002" // ANY DESIRED MODEL
    });

    const response = await fetch(url, {
      method: 'POST',
      headers: {
          'Content-Type': 'application/json',
      },
        body: data,
    });

    const text = await response.text();

    console.log(text);
    ```
  </Tab>
  <Tab>
   ```js copy filename="index.js"
    const http = require("https");

    const url = 'https://purgpt.xyz/v1/embeddings';

    const options = {
        method: 'POST',
        'Content-Type': 'application/json',
    };

    const data = JSON.stringify({
        "input": "The cat sat on a frog in the evening. The frog was mad, because it wanted to sleep.",
        "key": "YOUR API KEY",
        "model": "text-embedding-ada-002" // ANY DESIRED MODEL
    });

    let result = '';
    const req = http.request(url, options, (res) => {
        console.log(res.statusCode);

        res.setEncoding('utf8');
        res.on('data', (chunk) => {
            result += chunk;
        });

        res.on('end', () => {
            console.log(result);
        });
    });

    req.on('error', (e) => {
        console.error(e);
    });

    req.write(data);
    req.end();
    ```
    </Tab>
    <Tab>
   ```py copy filename="index.py"
    import requests
    from requests.structures import CaseInsensitiveDict

    url = "https://purgpt.xyz/v1/embeddings"

    headers = CaseInsensitiveDict()
    headers["Content-Type"] = "application/json"

    data = """
    {
            "input": "The cat sat on a frog in the evening. The frog was mad, because it wanted to sleep.",
            "key": "YOUR API KEY",
            "model": "text-embedding-ada-002" // ANY DESIRED MODEL
        }
    """

    resp = requests.post(url, headers=headers, data=data)

    print(resp.status_code)
    ```
    </Tab>
    <Tab>
     ```cs copy filename="index.cs" 
    var url = "https://purgpt.xyz/v1/embeddings";

    var httpRequest = (HttpWebRequest)WebRequest.Create(url);
    httpRequest.Method = "POST";

    httpRequest.ContentType = "application/json";

    var data = @"{
            ""input"": ""The cat sat on a frog in the evening. The frog was mad, because it wanted to sleep"",
            ""key"": ""YOUR API KEY"",
            ""model"": ""text-embedding-ada-002"" // ANY DESIRED MODEL
        }";

    using (var streamWriter = new StreamWriter(httpRequest.GetRequestStream()))
    {
         streamWriter.Write(data);
    }

    var httpResponse = (HttpWebResponse)httpRequest.GetResponse();
    using (var streamReader = new StreamReader(httpResponse.GetResponseStream()))
    {
         var result = streamReader.ReadToEnd();
    }

    Console.WriteLine(httpResponse.StatusCode);
    ```
    </Tab>
    <Tab>
    ```bash copy filename="Console"
    curl -X POST https://purgpt.xyz/v1/embeddings -H "Content-Type: application/json" --data-binary @- <<DATA
        {
           "input": "The cat sat on a frog in the evening. The frog was mad, because it wanted to sleep.",
           "key": "YOUR API KEY",
           "model": "text-embedding-ada-002" // ANY DESIRED MODEL
        }
    DATA
    ```
    </Tab>
</Tabs>