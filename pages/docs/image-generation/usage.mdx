import { Tabs, Tab } from "../../../components/things-from-nextra-that-arent-importing-nicely/tabs.jsx";
import { Callout } from 'nextra/components'

# Using Embeddings

<Callout type="warning" emoji="⚠️">
    Image generation is coming soon. The following docs are not currently reliable!
</Callout>

The URL to send the POST request to is `https://purgpt.xyz/v1/embeddings`.

To use PurGPT embedding, there are certain required fields to include in the body of the request:

```json
{
    "prompt": "A STRING OF TEXT", // ex: The cat sat on a frog in the evening. The frog was mad, because it wanted to sleep.
    "model": "ANY DESIRED MODEL" // ex: text-embedding-ada-002
} 
```
Given that, here is a table with more information on both required and optional parameters that can be passed into the body:

## API Reference

| **Field**            | **Type**     | **Description**                                                                                                                                                                     |
|------------------|----------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| prompt           | `string` | **Required**. A text description of the desired image(s). The maximum length is 1000 characters.                                                                               |
| n                | `integer`| Optional. Defaults to 1. The number of images to generate. Must be between 1 and 10.                                                                                            |
| size             | `string` | Optional. Defaults to `1024x1024`. The size of the generated images. Must be one of `256x256`, `512x512`, or `1024x1024`.                                                                 |
| response_format  | `string` | Optional. Defaults to url. The format in which the generated images are returned. Must be one of `url` or `b64_json`.                                                                 |
| user             | `string` | Optional. A unique identifier representing your end-user, which can help OpenAI to monitor and detect abuse. [Learn more](https://platform.openai.com/docs/guides/safety-best-practices/end-user-ids).                                                        |

## Code Example

<Tabs items={["JavaScript/Ajax", "Node.js", "Python", "C#", "cURL/BASH"]}>
  <Tab>
   ```js copy filename="index.js"
    const url = 'https://purgpt.xyz/v1/embeddings';

    const data = JSON.stringify({
        "input": "The cat sat on a frog in the evening. The frog was mad, because it wanted to sleep.",
        "model": "text-embedding-ada-002" // ANY DESIRED MODEL
    });

    const response = await fetch(url, {
      method: 'POST',
      headers: {
          'Content-Type': 'application/json',
          'Authorization': 'Bearer YOUR API KEY',
      },
        body: data,
    });

    const text = await response.text();

    console.log(text);
    ```
  </Tab>
  <Tab>
   ```js copy filename="index.js"
    const http = require("https");

    const url = 'https://purgpt.xyz/v1/embeddings';

    const options = {
        method: 'POST',
        'Content-Type': 'application/json',
        'Authorization': 'Bearer YOUR API KEY',
    };

    const data = JSON.stringify({
        "input": "The cat sat on a frog in the evening. The frog was mad, because it wanted to sleep.",
        "model": "text-embedding-ada-002" // ANY DESIRED MODEL
    });

    let result = '';
    const req = http.request(url, options, (res) => {
        console.log(res.statusCode);

        res.setEncoding('utf8');
        res.on('data', (chunk) => {
            result += chunk;
        });

        res.on('end', () => {
            console.log(result);
        });
    });

    req.on('error', (e) => {
        console.error(e);
    });

    req.write(data);
    req.end();
    ```
    </Tab>
    <Tab>
   ```py copy filename="index.py"
    import requests
    from requests.structures import CaseInsensitiveDict

    url = "https://purgpt.xyz/v1/embeddings"

    headers = CaseInsensitiveDict()
    headers["Content-Type"] = "application/json"
    headers["Authorization"] = "Bearer YOUR API KEY"

    data = """
    {
            "input": "The cat sat on a frog in the evening. The frog was mad, because it wanted to sleep.",
            "model": "text-embedding-ada-002" // ANY DESIRED MODEL
        }
    """

    resp = requests.post(url, headers=headers, data=data)

    print(resp.status_code)
    ```
    </Tab>
    <Tab>
     ```cs copy filename="index.cs" 
    var url = "https://purgpt.xyz/v1/embeddings";

    var httpRequest = (HttpWebRequest)WebRequest.Create(url);
    
    httpRequest.Method = "POST";
    httpRequest.ContentType = "application/json";
    httpRequest.Headers["Authorization"] = "Bearer YOUR API KEY";

    var data = @"{
            ""input"": ""The cat sat on a frog in the evening. The frog was mad, because it wanted to sleep"",
            ""model"": ""text-embedding-ada-002"" // ANY DESIRED MODEL
        }";
    ```
    </Tab>
    <Tab>
    ```bash copy filename="Console"
    curl -X POST https://purgpt.xyz/v1/embeddings -H "Content-Type: application/json" -H "Authorization: Bearer YOUR API KEY" --data-binary @- <<DATA
        {
           "input": "The cat sat on a frog in the evening. The frog was mad, because it wanted to sleep.",
           "model": "text-embedding-ada-002" // ANY DESIRED MODEL
        }
    DATA
    ```
    </Tab>
</Tabs>