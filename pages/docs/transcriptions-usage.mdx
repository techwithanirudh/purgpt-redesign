import { Tabs, Tab } from "../../components/things-from-nextra-that-arent-importing-nicely/tabs.jsx";
import { Callout } from 'nextra/components'

# Using Audio Transcriptions

<Callout type="warning" emoji="⚠️">
    Audio transcriptions are coming soon. The following docs are not currently reliable!
</Callout>

The URL to send the POST request to is `https://purgpt.xyz/v1/audio/transcriptions`.

To use PurGPT transcriptions, there are certain required fields to include in the body of the request:

```json
{
    "file": "AN AUDIO FILE", // ex: https://audio-samples.github.io/samples/mp3/blizzard_unconditional/sample-0.mp3
    "key": "YOUR API KEY", // ex: purgpt-nskruifnelsd
} 
```

No model field is present, because OpenAI only supplies the `whisper-1` model for use.

## Code Example

<Tabs items={["JavaScript/Ajax", "Node.js", "Python", "C#", "cURL/BASH"]}>
  <Tab>
   ```js copy filename="index.js"
    const url = 'https://purgpt.xyz/v1/audio/transcriptions';

    const data = JSON.stringify({
        "file": "https://audio-samples.github.io/samples/mp3/blizzard_unconditional/sample-0.mp3",
        "key": "YOUR API KEY"
    });

    const response = await fetch(url, {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: data,
    });

    const text = await response.text();

    console.log(text);
    ```
  </Tab>
  <Tab>
   ```js copy filename="index.js"
    const http = require("https");

    const url = 'https://purgpt.xyz/v1/audio/transcriptions';

    const options = {
        method: 'POST',
        'Content-Type': 'application/json',
    };

    const data = `{
       "file": "https://audio-samples.github.io/samples/mp3/blizzard_unconditional/sample-0.mp3",
       "key": "YOUR API KEY"
    }`;

    let result = '';
    const req = http.request(url, options, (res) => {
        console.log(res.statusCode);

        res.setEncoding('utf8');
        res.on('data', (chunk) => {
            result += chunk;
        });

        res.on('end', () => {
            console.log(result);
        });
    });

    req.on('error', (e) => {
        console.error(e);
    });

    req.write(data);
    req.end();
    ```
    </Tab>
    <Tab>
   ```py copy filename="index.py"
    import requests
    from requests.structures import CaseInsensitiveDict

    url = "https://purgpt.xyz/v1/audio/transcriptions"

    headers = CaseInsensitiveDict()
    headers["Content-Type"] = "application/json"

    data = """
    {
      "file": "https://audio-samples.github.io/samples/mp3/blizzard_unconditional/sample-0.mp3",
      "key": "YOUR API KEY"
    }
    """

    resp = requests.post(url, headers=headers, data=data)

    print(resp.status_code)
    ```
    </Tab>
    <Tab>
     ```cs copy filename="index.cs" 
    var url = "https://purgpt.xyz/v1/audio/transcriptions";

    var httpRequest = (HttpWebRequest)WebRequest.Create(url);
    httpRequest.Method = "POST";

    httpRequest.ContentType = "application/json";

    var data = @"{
       ""file"": ""https://audio-samples.github.io/samples/mp3/blizzard_unconditional/sample-0.mp3"",
       ""key"": ""YOUR API KEY""
    }";

    using (var streamWriter = new StreamWriter(httpRequest.GetRequestStream()))
    {
         streamWriter.Write(data);
    }

    var httpResponse = (HttpWebResponse)httpRequest.GetResponse();
    using (var streamReader = new StreamReader(httpResponse.GetResponseStream()))
    {
         var result = streamReader.ReadToEnd();
    }

    Console.WriteLine(httpResponse.StatusCode);
    ```
    </Tab>
    <Tab>
    ```bash copy filename="Console"
   curl -X POST https://purgpt.xyz/v1/audio/transcriptions -H "Content-Type: application/json" --data-binary @- <<DATA
    {
       "file": "https://audio-samples.github.io/samples/mp3/blizzard_unconditional/sample-0.mp3",
       "key": "YOUR API KEY"
    }
    DATA
    ```
    </Tab>
</Tabs>