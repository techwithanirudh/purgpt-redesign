import { useState } from "react";
import Draggable from "react-draggable";
import FeatureCategory from "../special-text/FeatureCategory.jsx"

export default function AudioTranscriptions() {
  const [dragDistance, setDragDistance] = useState(147);
  const [isDragging, setIsDragging] = useState(false);

  const handleDrag = (_, data) => {
    const newDragDistance = data.x;
    setDragDistance(newDragDistance);
  };

  const clipPathValue = `polygon(0% 0%, ${Math.max(
    0,
    dragDistance
  )}px 0%, ${Math.max(0, dragDistance)}px 100%, 0% 100%)`;

  return (
    <div>
      <div className="mb-6 mt-2">
        <p className="mb-4 block sm:inline-block">
      <FeatureCategory category="audioTranscriptions" /></p>
        <FeatureCategory category="audioTranslations" />
        <h3 className="text-4xl font-bold lg:mx-4 my-8 md:leading-3">
          Audio? Make it text.
        </h3>
        <p className="mt-2">Magically transcribe audio files into readable text.</p>
      </div>
      <div className="relative md:w-[550px] overflow-hidden bg-white/5 mx-auto truncate rounded-lg border-purple-200 dark:border-white/5 border-2">
        {/* Sound Wave by Samet Kuru from https://thenounproject.com/browse/icons/term/sound-wave/ Noun Project (CC BY 3.0) (icon: https://thenounproject.com/icon/sound-wave-2249826/) */}
        <svg
          xmlns="http://www.w3.org/2000/svg"
          xmlnsXlink="http://www.w3.org/1999/xlink"
          version="1.1"
          x="0px"
          y="0px"
          className="fill-purple-300 dark:fill-white h-[212px] absolute top-0 left-0"
          viewBox="0 0 100 125"
          enableBackground="new 0 0 100 100"
          xmlSpace="preserve"
        >
          <g>
            <path d="M12,53.522c-0.552,0-1-0.447-1-1v-5.045c0-0.552,0.448-1,1-1s1,0.448,1,1v5.045C13,53.075,12.552,53.522,12,53.522z" />
            <path d="M16,60.022c-0.552,0-1-0.447-1-1V40.978c0-0.552,0.448-1,1-1s1,0.448,1,1v18.045C17,59.575,16.552,60.022,16,60.022z" />
            <path d="M20,55.522c-0.552,0-1-0.447-1-1v-9.045c0-0.552,0.448-1,1-1s1,0.448,1,1v9.045C21,55.075,20.552,55.522,20,55.522z" />
            <path d="M24,52.022c-0.552,0-1-0.447-1-1v-2.045c0-0.552,0.448-1,1-1s1,0.448,1,1v2.045C25,51.575,24.552,52.022,24,52.022z" />
            <path d="M28,60.478c-0.552,0-1-0.447-1-1V40.522c0-0.552,0.448-1,1-1s1,0.448,1,1v18.955C29,60.03,28.552,60.478,28,60.478z" />
            <path d="M32,66.75c-0.552,0-1-0.447-1-1v-31.5c0-0.552,0.448-1,1-1s1,0.448,1,1v31.5C33,66.303,32.552,66.75,32,66.75z" />
            <path d="M36,63.726c-0.552,0-1-0.447-1-1V37.274c0-0.552,0.448-1,1-1s1,0.448,1,1v25.451C37,63.278,36.552,63.726,36,63.726z" />
            <path d="M40,59.978c-0.552,0-1-0.447-1-1V41.022c0-0.552,0.448-1,1-1s1,0.448,1,1v17.955C41,59.53,40.552,59.978,40,59.978z" />
            <path d="M44,54.978c-0.552,0-1-0.447-1-1v-7.955c0-0.552,0.448-1,1-1s1,0.448,1,1v7.955C45,54.53,44.552,54.978,44,54.978z" />
            <path d="M48,52.022c-0.552,0-1-0.447-1-1v-2.045c0-0.552,0.448-1,1-1s1,0.448,1,1v2.045C49,51.575,48.552,52.022,48,52.022z" />
            <path d="M52,52.022c-0.553,0-1-0.447-1-1v-2.045c0-0.552,0.447-1,1-1s1,0.448,1,1v2.045C53,51.575,52.553,52.022,52,52.022z" />
            <path d="M56,53.522c-0.553,0-1-0.447-1-1v-5.045c0-0.552,0.447-1,1-1s1,0.448,1,1v5.045C57,53.075,56.553,53.522,56,53.522z" />
            <path d="M60,56.522c-0.553,0-1-0.447-1-1V44.478c0-0.552,0.447-1,1-1s1,0.448,1,1v11.045C61,56.075,60.553,56.522,60,56.522z" />
            <path d="M64,65.022c-0.553,0-1-0.447-1-1V35.978c0-0.552,0.447-1,1-1s1,0.448,1,1v28.045C65,64.575,64.553,65.022,64,65.022z" />
            <path d="M68,65.522c-0.553,0-1-0.447-1-1V35.478c0-0.552,0.447-1,1-1s1,0.448,1,1v29.045C69,65.075,68.553,65.522,68,65.522z" />
            <path d="M72,74.022c-0.553,0-1-0.447-1-1V26.978c0-0.552,0.447-1,1-1s1,0.448,1,1v46.045C73,73.575,72.553,74.022,72,74.022z" />
            <path d="M76,69.522c-0.553,0-1-0.447-1-1V31.478c0-0.552,0.447-1,1-1s1,0.448,1,1v37.045C77,69.075,76.553,69.522,76,69.522z" />
            <path d="M80,55.478c-0.553,0-1-0.447-1-1v-8.955c0-0.552,0.447-1,1-1s1,0.448,1,1v8.955C81,55.03,80.553,55.478,80,55.478z" />
            <path d="M84,60.478c-0.553,0-1-0.447-1-1V40.522c0-0.552,0.447-1,1-1s1,0.448,1,1v18.955C85,60.03,84.553,60.478,84,60.478z" />
            <path d="M88,65.478c-0.553,0-1-0.447-1-1V35.522c0-0.552,0.447-1,1-1s1,0.448,1,1v28.955C89,65.03,88.553,65.478,88,65.478z" />
          </g>
        </svg>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          xmlnsXlink="http://www.w3.org/1999/xlink"
          version="1.1"
          x="0px"
          y="0px"
          className="fill-purple-300 dark:fill-white h-[212px] absolute top-0 left-[8.5rem]"
          viewBox="0 0 100 125"
          enableBackground="new 0 0 100 100"
          xmlSpace="preserve"
        >
          <g>
            <path d="M12,53.522c-0.552,0-1-0.447-1-1v-5.045c0-0.552,0.448-1,1-1s1,0.448,1,1v5.045C13,53.075,12.552,53.522,12,53.522z" />
            <path d="M16,60.022c-0.552,0-1-0.447-1-1V40.978c0-0.552,0.448-1,1-1s1,0.448,1,1v18.045C17,59.575,16.552,60.022,16,60.022z" />
            <path d="M20,55.522c-0.552,0-1-0.447-1-1v-9.045c0-0.552,0.448-1,1-1s1,0.448,1,1v9.045C21,55.075,20.552,55.522,20,55.522z" />
            <path d="M24,52.022c-0.552,0-1-0.447-1-1v-2.045c0-0.552,0.448-1,1-1s1,0.448,1,1v2.045C25,51.575,24.552,52.022,24,52.022z" />
            <path d="M28,60.478c-0.552,0-1-0.447-1-1V40.522c0-0.552,0.448-1,1-1s1,0.448,1,1v18.955C29,60.03,28.552,60.478,28,60.478z" />
            <path d="M32,66.75c-0.552,0-1-0.447-1-1v-31.5c0-0.552,0.448-1,1-1s1,0.448,1,1v31.5C33,66.303,32.552,66.75,32,66.75z" />
            <path d="M36,63.726c-0.552,0-1-0.447-1-1V37.274c0-0.552,0.448-1,1-1s1,0.448,1,1v25.451C37,63.278,36.552,63.726,36,63.726z" />
            <path d="M40,59.978c-0.552,0-1-0.447-1-1V41.022c0-0.552,0.448-1,1-1s1,0.448,1,1v17.955C41,59.53,40.552,59.978,40,59.978z" />
            <path d="M44,54.978c-0.552,0-1-0.447-1-1v-7.955c0-0.552,0.448-1,1-1s1,0.448,1,1v7.955C45,54.53,44.552,54.978,44,54.978z" />
            <path d="M48,52.022c-0.552,0-1-0.447-1-1v-2.045c0-0.552,0.448-1,1-1s1,0.448,1,1v2.045C49,51.575,48.552,52.022,48,52.022z" />
            <path d="M52,52.022c-0.553,0-1-0.447-1-1v-2.045c0-0.552,0.447-1,1-1s1,0.448,1,1v2.045C53,51.575,52.553,52.022,52,52.022z" />
            <path d="M56,53.522c-0.553,0-1-0.447-1-1v-5.045c0-0.552,0.447-1,1-1s1,0.448,1,1v5.045C57,53.075,56.553,53.522,56,53.522z" />
            <path d="M60,56.522c-0.553,0-1-0.447-1-1V44.478c0-0.552,0.447-1,1-1s1,0.448,1,1v11.045C61,56.075,60.553,56.522,60,56.522z" />
            <path d="M64,65.022c-0.553,0-1-0.447-1-1V35.978c0-0.552,0.447-1,1-1s1,0.448,1,1v28.045C65,64.575,64.553,65.022,64,65.022z" />
            <path d="M68,65.522c-0.553,0-1-0.447-1-1V35.478c0-0.552,0.447-1,1-1s1,0.448,1,1v29.045C69,65.075,68.553,65.522,68,65.522z" />
            <path d="M72,74.022c-0.553,0-1-0.447-1-1V26.978c0-0.552,0.447-1,1-1s1,0.448,1,1v46.045C73,73.575,72.553,74.022,72,74.022z" />
            <path d="M76,69.522c-0.553,0-1-0.447-1-1V31.478c0-0.552,0.447-1,1-1s1,0.448,1,1v37.045C77,69.075,76.553,69.522,76,69.522z" />
            <path d="M80,55.478c-0.553,0-1-0.447-1-1v-8.955c0-0.552,0.447-1,1-1s1,0.448,1,1v8.955C81,55.03,80.553,55.478,80,55.478z" />
            <path d="M84,60.478c-0.553,0-1-0.447-1-1V40.522c0-0.552,0.447-1,1-1s1,0.448,1,1v18.955C85,60.03,84.553,60.478,84,60.478z" />
            <path d="M88,65.478c-0.553,0-1-0.447-1-1V35.522c0-0.552,0.447-1,1-1s1,0.448,1,1v28.955C89,65.03,88.553,65.478,88,65.478z" />
          </g>
        </svg>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          xmlnsXlink="http://www.w3.org/1999/xlink"
          version="1.1"
          x="0px"
          y="0px"
          className="fill-purple-300 dark:fill-white h-[212px] absolute top-0 left-[17rem] hidden md:block overflow-hidden"
          viewBox="0 0 100 125"
          enableBackground="new 0 0 100 100"
          xmlSpace="preserve"
        >
          <g>
            <path d="M12,53.522c-0.552,0-1-0.447-1-1v-5.045c0-0.552,0.448-1,1-1s1,0.448,1,1v5.045C13,53.075,12.552,53.522,12,53.522z" />
            <path d="M16,60.022c-0.552,0-1-0.447-1-1V40.978c0-0.552,0.448-1,1-1s1,0.448,1,1v18.045C17,59.575,16.552,60.022,16,60.022z" />
            <path d="M20,55.522c-0.552,0-1-0.447-1-1v-9.045c0-0.552,0.448-1,1-1s1,0.448,1,1v9.045C21,55.075,20.552,55.522,20,55.522z" />
            <path d="M24,52.022c-0.552,0-1-0.447-1-1v-2.045c0-0.552,0.448-1,1-1s1,0.448,1,1v2.045C25,51.575,24.552,52.022,24,52.022z" />
            <path d="M28,60.478c-0.552,0-1-0.447-1-1V40.522c0-0.552,0.448-1,1-1s1,0.448,1,1v18.955C29,60.03,28.552,60.478,28,60.478z" />
            <path d="M32,66.75c-0.552,0-1-0.447-1-1v-31.5c0-0.552,0.448-1,1-1s1,0.448,1,1v31.5C33,66.303,32.552,66.75,32,66.75z" />
            <path d="M36,63.726c-0.552,0-1-0.447-1-1V37.274c0-0.552,0.448-1,1-1s1,0.448,1,1v25.451C37,63.278,36.552,63.726,36,63.726z" />
            <path d="M40,59.978c-0.552,0-1-0.447-1-1V41.022c0-0.552,0.448-1,1-1s1,0.448,1,1v17.955C41,59.53,40.552,59.978,40,59.978z" />
            <path d="M44,54.978c-0.552,0-1-0.447-1-1v-7.955c0-0.552,0.448-1,1-1s1,0.448,1,1v7.955C45,54.53,44.552,54.978,44,54.978z" />
            <path d="M48,52.022c-0.552,0-1-0.447-1-1v-2.045c0-0.552,0.448-1,1-1s1,0.448,1,1v2.045C49,51.575,48.552,52.022,48,52.022z" />
            <path d="M52,52.022c-0.553,0-1-0.447-1-1v-2.045c0-0.552,0.447-1,1-1s1,0.448,1,1v2.045C53,51.575,52.553,52.022,52,52.022z" />
            <path d="M56,53.522c-0.553,0-1-0.447-1-1v-5.045c0-0.552,0.447-1,1-1s1,0.448,1,1v5.045C57,53.075,56.553,53.522,56,53.522z" />
            <path d="M60,56.522c-0.553,0-1-0.447-1-1V44.478c0-0.552,0.447-1,1-1s1,0.448,1,1v11.045C61,56.075,60.553,56.522,60,56.522z" />
            <path d="M64,65.022c-0.553,0-1-0.447-1-1V35.978c0-0.552,0.447-1,1-1s1,0.448,1,1v28.045C65,64.575,64.553,65.022,64,65.022z" />
            <path d="M68,65.522c-0.553,0-1-0.447-1-1V35.478c0-0.552,0.447-1,1-1s1,0.448,1,1v29.045C69,65.075,68.553,65.522,68,65.522z" />
            <path d="M72,74.022c-0.553,0-1-0.447-1-1V26.978c0-0.552,0.447-1,1-1s1,0.448,1,1v46.045C73,73.575,72.553,74.022,72,74.022z" />
            <path d="M76,69.522c-0.553,0-1-0.447-1-1V31.478c0-0.552,0.447-1,1-1s1,0.448,1,1v37.045C77,69.075,76.553,69.522,76,69.522z" />
            <path d="M80,55.478c-0.553,0-1-0.447-1-1v-8.955c0-0.552,0.447-1,1-1s1,0.448,1,1v8.955C81,55.03,80.553,55.478,80,55.478z" />
            <path d="M84,60.478c-0.553,0-1-0.447-1-1V40.522c0-0.552,0.447-1,1-1s1,0.448,1,1v18.955C85,60.03,84.553,60.478,84,60.478z" />
            <path d="M88,65.478c-0.553,0-1-0.447-1-1V35.522c0-0.552,0.447-1,1-1s1,0.448,1,1v28.955C89,65.03,88.553,65.478,88,65.478z" />
          </g>
        </svg>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          xmlnsXlink="http://www.w3.org/1999/xlink"
          version="1.1"
          x="0px"
          y="0px"
          className="fill-purple-300 dark:fill-white h-[212px] absolute top-0 left-[400px] hidden md:block overflow-hidden"
          viewBox="0 0 100 125"
          enableBackground="new 0 0 100 100"
          xmlSpace="preserve"
        >
          <g>
            <path d="M12,53.522c-0.552,0-1-0.447-1-1v-5.045c0-0.552,0.448-1,1-1s1,0.448,1,1v5.045C13,53.075,12.552,53.522,12,53.522z" />
            <path d="M16,60.022c-0.552,0-1-0.447-1-1V40.978c0-0.552,0.448-1,1-1s1,0.448,1,1v18.045C17,59.575,16.552,60.022,16,60.022z" />
            <path d="M20,55.522c-0.552,0-1-0.447-1-1v-9.045c0-0.552,0.448-1,1-1s1,0.448,1,1v9.045C21,55.075,20.552,55.522,20,55.522z" />
            <path d="M24,52.022c-0.552,0-1-0.447-1-1v-2.045c0-0.552,0.448-1,1-1s1,0.448,1,1v2.045C25,51.575,24.552,52.022,24,52.022z" />
            <path d="M28,60.478c-0.552,0-1-0.447-1-1V40.522c0-0.552,0.448-1,1-1s1,0.448,1,1v18.955C29,60.03,28.552,60.478,28,60.478z" />
            <path d="M32,66.75c-0.552,0-1-0.447-1-1v-31.5c0-0.552,0.448-1,1-1s1,0.448,1,1v31.5C33,66.303,32.552,66.75,32,66.75z" />
            <path d="M36,63.726c-0.552,0-1-0.447-1-1V37.274c0-0.552,0.448-1,1-1s1,0.448,1,1v25.451C37,63.278,36.552,63.726,36,63.726z" />
            <path d="M40,59.978c-0.552,0-1-0.447-1-1V41.022c0-0.552,0.448-1,1-1s1,0.448,1,1v17.955C41,59.53,40.552,59.978,40,59.978z" />
            <path d="M44,54.978c-0.552,0-1-0.447-1-1v-7.955c0-0.552,0.448-1,1-1s1,0.448,1,1v7.955C45,54.53,44.552,54.978,44,54.978z" />
            <path d="M48,52.022c-0.552,0-1-0.447-1-1v-2.045c0-0.552,0.448-1,1-1s1,0.448,1,1v2.045C49,51.575,48.552,52.022,48,52.022z" />
            <path d="M52,52.022c-0.553,0-1-0.447-1-1v-2.045c0-0.552,0.447-1,1-1s1,0.448,1,1v2.045C53,51.575,52.553,52.022,52,52.022z" />
            <path d="M56,53.522c-0.553,0-1-0.447-1-1v-5.045c0-0.552,0.447-1,1-1s1,0.448,1,1v5.045C57,53.075,56.553,53.522,56,53.522z" />
            <path d="M60,56.522c-0.553,0-1-0.447-1-1V44.478c0-0.552,0.447-1,1-1s1,0.448,1,1v11.045C61,56.075,60.553,56.522,60,56.522z" />
            <path d="M64,65.022c-0.553,0-1-0.447-1-1V35.978c0-0.552,0.447-1,1-1s1,0.448,1,1v28.045C65,64.575,64.553,65.022,64,65.022z" />
            <path d="M68,65.522c-0.553,0-1-0.447-1-1V35.478c0-0.552,0.447-1,1-1s1,0.448,1,1v29.045C69,65.075,68.553,65.522,68,65.522z" />
            <path d="M72,74.022c-0.553,0-1-0.447-1-1V26.978c0-0.552,0.447-1,1-1s1,0.448,1,1v46.045C73,73.575,72.553,74.022,72,74.022z" />
            <path d="M76,69.522c-0.553,0-1-0.447-1-1V31.478c0-0.552,0.447-1,1-1s1,0.448,1,1v37.045C77,69.075,76.553,69.522,76,69.522z" />
            <path d="M80,55.478c-0.553,0-1-0.447-1-1v-8.955c0-0.552,0.447-1,1-1s1,0.448,1,1v8.955C81,55.03,80.553,55.478,80,55.478z" />
            <path d="M84,60.478c-0.553,0-1-0.447-1-1V40.522c0-0.552,0.447-1,1-1s1,0.448,1,1v18.955C85,60.03,84.553,60.478,84,60.478z" />
            <path d="M88,65.478c-0.553,0-1-0.447-1-1V35.522c0-0.552,0.447-1,1-1s1,0.448,1,1v28.955C89,65.03,88.553,65.478,88,65.478z" />
          </g>
        </svg>

        <div className="relative w-full h-[155px]">
          <div
            className="bg-[#f6eefe] dark:bg-[#282828] rounded-lg select-none absolute overflow-hidden text-right top-0 left-0"
            style={{ clipPath: clipPathValue }}
          >
            <p className="py-16 md:text-[1.2rem] px-4 pr-10 text-purple-400 dark:text-white max-w-full overflow-hidden">
              I love baking! I could bake all day. <span className="hidden md:inline-block">In fact, I will tomorrow!</span>
            </p>
          </div>
        </div>

        <Draggable
          axis="x"
          onDrag={handleDrag}
          bounds="parent"
          onStart={() => {
            document.body.classList.add("cursor-grabbing");
            setIsDragging(true);
          }}
          onStop={() => {
            document.body.classList.remove("cursor-grabbing");
            setIsDragging(false);
          }}
          defaultPosition={{ x: 147, y: 0 }}
        >
          <div
            className={`top-0 group -ml-[2px] p-4 pr-4 bg-[#f6eefe] dark:bg-[#282828] absolute ${
              isDragging === false ? "cursor-grab" : "cursor-dragging"
            }`}
          >
            <div className="h-[125px] w-2 bg-gradient-to-l from-indigo-400 dark:from-indigo-500 to-pink-400 text-white dark:to-pink-500 animate-personalities rounded-xl" />
            <div className="transition bg-gradient-to-l p-1 from-indigo-400 dark:from-indigo-500 to-pink-400 text-white dark:to-pink-500 animate-personalities top-[40%] left-1 absolute rounded-full hover:scale-110 focus:scale-110">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                strokeWidth={1.5}
                stroke="currentColor"
                className="w-6 h-6 rotate-90"
              >
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  d="M8.25 15L12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"
                />
              </svg>
            </div>
          </div>
        </Draggable>
      </div>
    </div>
  );
}